<%= error_messages_for :css_point %>

<% form_remote_tag (:url => admin_css_points_url + '/create_via_ajax', :update => 'css_listing') do %>
  <%= hidden_field_tag 'css_point[theme_id]', theme_id %>
  <%= text_field_tag 'css_point[key]', '', :size => '20' %> { <%= text_field_tag 'css_point[value]', '', :size => '60' %> }
  <%= submit_tag "Add" %>
<% end %>

<br />
<% for css_point in @css_points -%>
  <% if params[:action] == 'edit_via_ajax' && params[:id] == css_point.id.to_s %>
    <% form_remote_tag (:url => admin_css_points_url + '/save_via_ajax', :update => 'css_listing') do %>
      <%= hidden_field_tag 'css_point[theme_id]', theme_id %>
      <%= hidden_field_tag 'css_point[id]', css_point.id %>
      <%= text_field_tag 'css_point[key]', css_point.key, :size => '20' %> { <%= text_field_tag 'css_point[value]', css_point.value, :size => '60' %> }
      <%= submit_tag "Save" %> | <%= link_to_remote "Cancel", :url => admin_css_points_url + '/cancel_edit/' + css_point.id.to_s, :update => 'css_listing' %>
    <% end %>
  <% else %>
    <%= css_point.key %> { <%= css_point.value %> }
    <%= link_to_remote "Edit", :url => admin_css_points_url + '/edit_via_ajax/' + css_point.id.to_s, :update => 'css_listing' %>
    <%= link_to_remote "Delete", :url => admin_css_points_url + '/' + css_point.id.to_s, :method => 'delete', :update => 'css_listing' %><br />
  <% end %>
<% end -%>
