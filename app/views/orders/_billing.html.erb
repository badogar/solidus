<% order_form.fields_for :bill_address do |bill_form| %>
  <h2><%= t("billing_address")%></h2>
  <% if !current_user.addresses.empty? -%>
  <div class="saved_address inner">
    <input type="radio" name="bill_address" class="saved_radio" value="1" />
    <label for="<%= t('saved_address') %>"><%= t('saved_address') %></label>
    <%= collection_select("checkout_presenter", :bill_address_id, current_user.addresses, :id, :nickname) %>
    <p></p>
  </div>
  <div class="new_address inner">
    <input type="radio" name="bill_address" class="saved_radio" value="0" />
    <label for="<%= t("new_address") %>"><%= t("new_address") %></label>
  <% else -%>
  <div class="inner">
  <% end -%>
  	<p id="bfname">
  		<label for="<%= t("first_name") %>"><%= t("first_name") %></label>
  		<%= bill_form.text_field :firstname, :class => 'required' -%><span class="req">*</span>
  	</p>
  	<p id="blname">
  		<label for="<%= t("last_name") %>"><%= t("last_name") %></label>
  		<%= bill_form.text_field :lastname, :class => 'required' -%><span class="req">*</span>
  	</p>
  	<p id="baddress">
  		<label for="<%= t("street_address") %>"><%= t("street_address") %></label>
  		<%= bill_form.text_field :address1, :class => 'required' -%><span class="req">*</span>
  	</p>
  	<p id="baddress2">
  		<label for="<%= t("street_address_2") %>"><%= t("street_address_2") %></label>
  		<%= bill_form.text_field :address2 %>
  	</p>
  	<p id="bcity">
  		<label for="<%= t("city") %>"><%= t("city") %></label>
  		<%= bill_form.text_field :city, :class => 'required' -%><span class="req">*</span>
  	</p>                        
  	<p>
  		<label for="<%= t("state") %>"><%= t("state") %></label>
  		<span id="bstate">
  			<%= collection_select("order[bill_address_attributes]", 
  			:state_id, 
  			@states, 
  			:id, 
  			:name, 
  			{:include_blank => true}, 
  			{:style=> 'width:150px;'}) %>
  		</span>
  		<span class="req">*</span>
  	</p>
  	<p id="bzip">
  		<label for="<%= t("zip") %>"><%= t("zip") %></label>
  		<%= bill_form.text_field :zipcode, :class => 'required' -%><span class="req">*</span>
  	</p>    
  	<p id="bcountry">
  		<label for="<%= t("country") %>"><%= t("country") %></label>
  		<span id="bcountry"><%= bill_form.collection_select :country_id, @countries, :id, :name, {}, {:style => 'width:150px;', :class => 'required'} %></span>
  	</p>
  	<p id="bphone">
  		<label for="<%= t("phone") %>"><%= t("phone") %></label>
  		<%= bill_form.text_field :phone, :class => 'required' -%><span class="req">*</span>
  	</p>
  </div>
  <div class="inner">
    <p><input id="continue_billing" type="button" value="<%=t("continue")%>"/></p>
  </div>
<% end %>
